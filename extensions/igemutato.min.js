var Szentiras=(function(){var v={forditas:"SZIT",tipW:300,tipH:200,tipD:5,tipShow:200,tipHide:500,excludeTags:"head,script,input,select,textarea,h1,h2,h3,a"},w=/([12](?:K(?:[io]r|rón)|Makk?|Pé?t(?:er)?|Sám|T(?:h?essz?|im))|[1-3]Já?n(?:os)?|[1-5]Móz(?:es)?|(?:Ap)Csel|A(?:gg?|bd)|Ám(?:ós)?|B(?:ár|[ií]r(?:ák)?|ölcs)|Dán|É(?:sa|zs|n(?:ek(?:ek|Én)?)?)|E(?:f(?:éz)?|szt?|z(?:s?dr?)?)|Fil(?:em)?|Gal|H(?:a[bg]|ós)|Iz|J(?:ak|á?n(?:os)?|e[lr]|o(?:el)?|ó(?:[bn]|zs|el)|[Ss]ir(?:alm?)?|úd(?:ás)?|ud(?:it)?)|K(?:iv|ol)|L(?:ev|u?k(?:ács)?)|M(?:al(?:ak)?|á?té?|(?:ár)?k|ik|Törv)|N[áe]h|(?:Ó|O)z|P(?:él|ré)d|R(?:óm|[uú]th?)|S(?:ir(?:alm?)?|ír|z?of|zám)|T(?:er|it|ób)|Z(?:ak|of|s(?:olt|id)?))(?: ?[0-9]+)(?:[;,.\- ]*[0-9]+[a-z]?)*/g,j="http://szentiras.hu/",p=j+"API/?feladat=idezet&hivatkozas=",i,m,h,n,l,x,t=document,s=t.documentElement,u=t.body,c;function a(y){var b,e,d,z,A;c||(c=v.excludeTags.split(","));if(y=(y&&y.firstChild)){do{e=y.nextSibling;d=y.parentNode;if(y.nodeType===1&&c.indexOf(y.nodeName.toLowerCase())==-1){a(y)}else{if(y.nodeType===3){A=y.data;while(b=w.exec(A)){z=r(b);if(!z){continue}d.insertBefore(t.createTextNode(RegExp.leftContext),d.insertBefore(z,y));A=RegExp.rightContext;w.lastIndex=0}d.replaceChild(t.createTextNode(A),y)}}}while(y=e)}}function r(d){var b=t.createElement("a");b.className+=" ige-link";b.appendChild(t.createTextNode(d[0]));b.onmouseover=function(e){clearTimeout(n);clearTimeout(l);k();n=setTimeout(function(){g(e)},v.tipShow)};b.onmouseout=function(){clearTimeout(n);if(i){clearTimeout(l);l=setTimeout(function(){k()},v.tipHide)}};return b}function f(e,b){var d=new XMLHttpRequest();if("withCredentials" in d){d.open(e,b,true)}else{if(typeof XDomainRequest!="undefined"){d=new XDomainRequest();d.open(e,b)}else{d=null}}return d}function o(b){x&&x.abort();x=f("GET",p+encodeURI(b.textContent)+"&forditas="+v.forditas);x.onreadystatechange=function(){if(!i){return}if(x.readyState===4&&x.status===200){var y=JSON.parse(x.responseText),d="";if(y&&y.valasz&&y.valasz.versek&&y.valasz.versek.length){for(var e=0;e<y.valasz.versek.length;e++){d+=y.valasz.versek[e].szoveg+" "}m.textContent=d}else{m.textContent="A betöltés sikertelen :-("}}};x.send()}function g(A){var b=A.target||A.srcElement,z=b.getBoundingClientRect(),e=z.top+(s.scrollTop||u.scrollTop),B=z.left+(s.scrollLeft||u.scrollLeft),y=u.clientWidth||window.innerWidth,d=b.offsetHeight;o(b);i||(i=t.createElement("div"),m=t.createElement("div"),m.className+="szoveg",i.appendChild(m),h=t.createElement("div"),h.className+="igehely",i.appendChild(h));h.innerHTML='&nbsp;<a href="'+j+v.forditas+"/"+encodeURI(b.textContent.replace(/\s/g,""))+'"><b>'+b.textContent+"</b>&nbsp;(szentiras.hu)&nbsp;&raquo;</a>";m.textContent="Betöltés...";i.id="igemutato";i.onmouseover=function(){clearTimeout(l)};i.onmouseout=function(){clearTimeout(l);l=setTimeout(function(){k()},v.tipHide)};i.style.top=((z.top>v.tipH+v.tipD)?(e-v.tipH-v.tipD):(e+d+v.tipD))+"px";i.style.left=(((B+v.tipW)>y)?(y-v.tipW-v.tipD):B)+"px";i.style.width=v.tipW+"px";i.style.height=v.tipH+"px";m.style.height=(v.tipH-30)+"px";u.appendChild(i)}function k(){i&&(i.parentNode.removeChild(i),i=null)}function q(b){for(key in b){v[key]=b[key]}}return{setConfig:q,keres:a}})();