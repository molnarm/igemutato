var Szentiras=(function(){var G={forditas:"SZIT",tipW:300,tipH:200,fontSize:16,tipD:5,tipShow:200,tipHide:500,excludeTags:"head,script,input,select,textarea,h1,h2,h3,a",enableFormatting:true,showNumbers:false},H=/(?:^|[^\w\u00C0-\u017F])((?:[12](?:K(?:[io]r|rón)|Makk?|Pé?t(?:er)?|Sám|T(?:h?essz?|im))|[1-3]Já?n(?:os)?|[1-5]Móz(?:es)?|(?:Ap)?Csel|A(?:gg?|bd)|Ám(?:ós)?|B(?:ár|[ií]r(?:ák)?|ölcs)|Dán|É(?:sa|zs|n(?:ek(?:ek|Én)?)?)|E(?:f(?:éz)?|szt?|z(?:s?dr?)?)|Fil(?:em)?|Gal|H(?:a[bg]|ós)|Iz|J(?:ak|á?n(?:os)?|e[lr]|o(?:el)?|ó(?:[bn]|zs|el)|[Ss]ir(?:alm?)?|úd(?:ás)?|ud(?:it)?)|K(?:iv|ol)|L(?:ev|u?k(?:ács)?)|M(?:al(?:ak)?|á?té?|(?:ár)?k|ik|Törv)|N[áe]h|(?:Ó|O)z|P(?:él|ré)d|R(?:óm|[uú]th?)|S(?:ir(?:alm?)?|ír|z?of|zám)|T(?:er|it|ób)|Z(?:ak|of|s(?:olt|id)?))\.?(?:\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?(?:\s*[-–—]\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?)?(?:\s*[\|;]\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?(?:\s*[-–—]\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?)?)*))(?:(?=[^\w\u00C0-\u017F])|$)/g,v=["KNB","SZIT","KG","UF"],j="http://szentiras.hu/",t="http://szentiras.hu/api/idezet/",i,p,g,r,s,o,J,u={},n,I,D=document,F=D.body,C=D.documentElement,c,l;function a(K){var b,e,d,L,N,M;if(K=(K&&K.firstChild)){do{e=K.nextSibling;d=K.parentNode;if(K.nodeType===1&&c.indexOf(K.nodeName.toLowerCase())==-1){a(K)}else{if(K.nodeType===3){N=K.data;while(b=H.exec(N)){M=RegExp.leftContext,N=RegExp.rightContext,L=z(b);if(!L){continue}d.insertBefore(D.createTextNode(M),d.insertBefore(L,K));H.lastIndex=0}d.replaceChild(D.createTextNode(N),K)}}}while(K=e)}}function z(d){var b=D.createElement("a"),e=encodeURI(d[1].replace(/\s/g,""));b.className+=" ige-link";b.appendChild(D.createTextNode(d[0]));b.setAttribute("data-ige",d[1]);b.setAttribute("data-ref",e);b.target="_blank";b.href=j+n+"/"+e;b.onmouseover=function(K){clearTimeout(s);clearTimeout(o);m();k(b);s=setTimeout(function(){i.style.display="block";p.scrollTop=0},G.tipShow)};b.onmouseout=function(){clearTimeout(s);if(i){clearTimeout(o);o=setTimeout(function(){m()},G.tipHide)}};return b}function f(e,b){var d=new XMLHttpRequest();if("withCredentials" in d){d.open(e,b,true)}else{if(typeof XDomainRequest!="undefined"){d=new XDomainRequest();d.open(e,b)}else{d=null}}return d}function x(){J&&J.abort();if(u[n]&&u[n][I]){p.innerHTML=u[n][I];p.scrollTop=0;return}var d=t+I+"/"+n,b=function(){try{if(!J.readystatechange||J.readyState===4&&J.status===200){E(JSON.parse(J.responseText));return}}catch(e){console&&console.log&&console.log(e.message)}if(J.readystate!==0){p.textContent="A betöltés sikertelen :-("}};J=f("GET",d);if(J.readystatechange){J.onreadystatechange=b}else{J.onload=b;J.onerror=function(){p.textContent="A betöltés sikertelen :-("}}J.send()}function E(M){try{if(M&&M.error){B(p,M.error)}else{if(M&&M.valasz){if(M.valasz.hiba){B(p,M.valasz.hiba)}else{if(M.valasz.versek&&M.valasz.versek.length){var d=M.valasz.versek;var b="",e,O=0,N;for(var L=0;L<d.length;L++){e=d[L].szoveg;if(!l){e=e.trim()}if(!G.enableFormatting){e=e.replace(/<[^>]+>/g," ").replace(/\s+/g," ")}if(G.showNumbers){N=y(d[L]);e="<sup>"+N.vers+"</sup>"+e;if(N.fejezet!=O){e='<span class="konyv">'+N.fejezet+"</span>&nbsp;"+e;O=N.fejezet}}b+=e+" "}p.innerHTML=b;u[n]||(u[n]={});u[n][I]=b;p.scrollTop=0;return}}}}}catch(K){console&&console.log&&console.log(K.message)}B(p,"A betöltés sikertelen :-(")}function y(d){var b=d.hely.gepi.toString();return{fejezet:parseInt(b.substring(3,6),10),vers:parseInt(b.substring(6,9),10)}}function B(b,d){b.textContent=d}function A(){var M,L,b,K,e;i=D.createElement("div"),p=D.createElement("div"),p.className+="szoveg",i.appendChild(p),M=D.createElement("div"),M.className+="igehely",i.appendChild(M);i.id="igemutato-tooltip";i.onmouseover=function(){clearTimeout(o)};i.onmouseout=function(N){clearTimeout(o);o=setTimeout(function(){m()},G.tipHide)};p.style.fontSize=G.fontSize+"px";p.style.height=(G.tipH-30)+"px";L=D.createElement("div");g=D.createElement("a"),g.target="_blank",L.appendChild(g);r=D.createElement("select");for(var d=0;d<v.length;d++){e=D.createElement("option");e.value=v[d];B(e,v[d]);if(n==v[d]){e.selected=true}r.appendChild(e)}r.onchange=function(){n=r.value;g.href=j+n+"/"+I;x()};b=D.createElement("a"),b.href="http://szentiras.hu",b.target="_blank",B(b,"szentiras.hu »");K=D.createElement("span"),K.appendChild(b);M.appendChild(K);M.appendChild(r);M.appendChild(L);i.style.display="none";F.appendChild(i)}function q(d){var b=d.getBoundingClientRect();return{top:b.top+(window.pageYOffset||C.scrollTop||F.scrollTop)-C.clientTop,left:b.left+(window.pageXOffset||C.scrollLeft||F.scrollLeft)-C.clientLeft}}function k(e){var M=e.getAttribute("data-ige"),d=e.getAttribute("data-ref"),b=e.getBoundingClientRect(),N=q(e),L=F.clientWidth||window.innerWidth,K=e.offsetHeight;g.href=e.href;B(g,M);B(p,"Betöltés...");I=d;x();i.style.top=((b.top>G.tipH+G.tipD)?(N.top-G.tipH-G.tipD):(N.top+K+G.tipD))+"px";i.style.left=((N.left+G.tipW>L)?(L-G.tipW-G.tipD):N.left)+"px";i.style.width=G.tipW+"px";i.style.height=G.tipH+"px"}function m(){i.style.display="none";I=null}function w(b){var d=G;for(key in b){d[key]=b[key]}G=d}function h(d){if(D.getElementById("igemutato-script")){return}var b=D.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("href",chrome.extension.getURL("igemutato.min.css"));D.getElementsByTagName("head")[0].appendChild(b);l=(window.attachEvent&&!window.addEventListener);n=G.forditas;c=G.excludeTags.split(",");A();a(d)}return{setConfig:w,start:h}})();