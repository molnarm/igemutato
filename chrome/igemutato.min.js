var Szentiras=(function(){config={forditas:"SZIT",tipW:300,tipH:200,tipD:0,tipShow:200,tipHide:500,excludeTags:"head,script,input,select,textarea,h1,h2,h3,a"};var t=/([12](?:K(?:[io]r|rón)|Makk?|Pé?t(?:er)?|Sám|T(?:h?essz?|im))|[1-3]Já?n(?:os)?|[1-5]Móz(?:es)?|(?:Ap)Csel|A(?:gg?|bd)|Ám(?:ós)?|B(?:ár|[ií]r(?:ák)?|ölcs)|Dán|É(?:sa|zs|n(?:ek(?:ek|Én)?)?)|E(?:f(?:éz)?|szt?|z(?:s?dr?)?)|Fil(?:em)?|Gal|H(?:a[bg]|ós)|Iz|J(?:ak|á?n(?:os)?|e[lr]|o(?:el)?|ó(?:[bn]|zs|el)|[Ss]ir(?:alm?)?|úd(?:ás)?|ud(?:it)?)|K(?:iv|ol)|L(?:ev|u?k(?:ács)?)|M(?:al(?:ak)?|á?té?|(?:ár)?k|ik|Törv)|N[áe]h|(?:Ó|O)z|P(?:él|ré)d|R(?:óm|[uú]th?)|S(?:ir(?:alm?)?|ír|z?of|zám)|T(?:er|it|ób)|Z(?:ak|of|s(?:olt|id)?))(?: ?[0-9]+)(?:[;,.\- ]*[0-9]+[a-z]?)*/g,o="http://szentiras.hu/API/?feladat=idezet&hivatkozas=",l="http://szentiras.hu/",i,k,h,m,j,u,r=document,q=r.documentElement,s=r.body,c;function a(v){var b,e,d,w,x;c||(c=config.excludeTags.split(","));if(v=(v&&v.firstChild)){do{e=v.nextSibling;d=v.parentNode;if(v.nodeType===1&&c.indexOf(v.nodeName.toLowerCase())==-1){a(v)}else{if(v.nodeType===3){x=v.data;while(b=t.exec(x)){w=p(b);if(!w){continue}d.insertBefore(r.createTextNode(RegExp.leftContext),v);d.insertBefore(w,v);x=RegExp.rightContext;t.lastIndex=0}d.insertBefore(r.createTextNode(x),v);d.removeChild(v)}}}while(v=e)}}function p(d){var b=r.createElement("a");b.className+=" ige-link";b.appendChild(r.createTextNode(d[0]));b.addEventListener("mouseover",function(e){clearTimeout(m);clearTimeout(j);i&&(i.parentNode.removeChild(i),i=null);m=setTimeout(function(){g(e)},config.tipShow)},false);b.addEventListener("mouseout",function(){m&&(clearTimeout(m),m=null);if(i){clearTimeout(j);j=setTimeout(function(){i&&(i.parentNode.removeChild(i),i=null)},config.tipHide)}});return b}function f(e,b){var d=new XMLHttpRequest();if("withCredentials" in d){d.open(e,b,true)}else{if(typeof XDomainRequest!="undefined"){d=new XDomainRequest();d.open(e,b)}else{d=null}}return d}function n(b){u&&u.abort();u=f("GET",o+encodeURI(b.innerText)+"&forditas="+config.forditas);u.onreadystatechange=function(){if(!i){return}if(u.readyState===4&&u.status===200){var v=JSON.parse(u.responseText),d="";if(v&&v.valasz&&v.valasz.versek&&v.valasz.versek.length){for(var e=0;e<v.valasz.versek.length;e++){d+=v.valasz.versek[e].szoveg+" "}k.innerText=d}else{k.innerText="A betöltés sikertelen :-("}}};u.send()}function g(x){var b=x.target||x.srcElement,e,y,d,w,v=b.getBoundingClientRect();n(b);i||(i=r.createElement("div"),k=r.createElement("div"),k.className+="szoveg",i.appendChild(k),h=r.createElement("div"),h.className+="igehely",i.appendChild(h));h.innerHTML='&nbsp;<a href="'+l+config.forditas+"/"+encodeURI(b.innerText.replace(/\s/g,""))+'"><b>'+b.innerText+"</b>&nbsp;(szentiras.hu)&nbsp;&raquo;</a>";k.innerText="Betöltés...";i.id="igemutato";i.addEventListener("mouseover",function(){clearTimeout(j)},false);i.addEventListener("mouseout",function(){clearTimeout(j);j=setTimeout(function(){i&&(i.parentNode.removeChild(i),i=null)},config.tipHide)});e=v.top+(q.scrollTop||s.scrollTop);y=v.left+(q.scrollLeft||s.scrollLeft);d=b.offsetHeight;w=s.clientWidth||window.innerWidth;i.style.top=((v.top>config.tipH+config.tipD)?(e-config.tipH-config.tipD):(e+d+config.tipD))+"px";i.style.left=(((y+config.tipW)>w)?(w-config.tipW-config.tipD):y)+"px";i.style.width=config.tipW+"px";i.style.height=config.tipH+"px";k.style.height=(config.tipH-30)+"px";s.appendChild(i)}return{config:config,keres:a}})();