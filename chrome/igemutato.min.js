var Szentiras=(function(){config={forditas:"SZIT",tipW:300,tipH:200,tipD:10,tipShow:200,tipHide:500,excludeTags:",head,script,input,select,textarea,h1,h2,h3,a,"};var l=/([12](?:K(?:[io]r|rón)|Makk?|Pé?t(?:er)?|Sám|T(?:h?essz?|im))|[1-3]Já?n(?:os)?|[1-5]Móz(?:es)?|(?:Ap)Csel|A(?:gg?|bd)|Ám(?:ós)?|B(?:ár|[ií]r(?:ák)?|ölcs)|Dán|É(?:sa|zs|n(?:ek(?:ek|Én)?)?)|E(?:f(?:éz)?|szt?|z(?:s?dr?)?)|Fil(?:em)?|Gal|H(?:a[bg]|ós)|Iz|J(?:ak|á?n(?:os)?|e[lr]|o(?:el)?|ó(?:[bn]|zs|el)|[Ss]ir(?:alm?)?|úd(?:ás)?|ud(?:it)?)|K(?:iv|ol)|L(?:ev|u?k(?:ács)?)|M(?:al(?:ak)?|á?té?|(?:ár)?k|ik|Törv)|N[áe]h|(?:Ó|O)z|P(?:él|ré)d|R(?:óm|[uú]th?)|S(?:ir(?:alm?)?|ír|z?of|zám)|T(?:er|it|ób)|Z(?:ak|of|s(?:olt|id)?))(?: ?[0-9]+)(?:[;,.\- ]*[0-9]+[a-z]?)*/g,h="http://szentiras.hu/API/?feladat=idezet&hivatkozas=",a="http://szentiras.hu/",t,o,m,j,g,c,k=document,i=k.documentElement,n=k.body;function s(u){var b,e,d,v,w;if(u=(u&&u.firstChild)){do{e=u.nextSibling;d=u.parentNode;if(u.nodeType===1&&config.excludeTags.indexOf(","+u.nodeName.toLowerCase()+",")==-1){s(u)}else{if(u.nodeType===3){w=u.data;while(b=l.exec(w)){v=f(b);if(!v){continue}d.insertBefore(k.createTextNode(RegExp.leftContext),u);d.insertBefore(v,u);w=RegExp.rightContext;l.lastIndex=0}d.insertBefore(k.createTextNode(w),u);d.removeChild(u)}}}while(u=e)}}function f(d){var b=k.createElement("a");b.className+=" ige-link";b.appendChild(k.createTextNode(d[0]));b.addEventListener("mouseover",function(e){j=setTimeout(function(){if(t){t.parentNode.removeChild(t)}q(e)},config.tipShow)},false);b.addEventListener("mouseout",function(){if(t){g=setTimeout(function(){if(!j&&t){t.parentNode.removeChild(t);t=null}},config.tipHide)}if(j){clearTimeout(j);j=null}});return b}function r(e,b){var d=new XMLHttpRequest();if("withCredentials" in d){d.open(e,b,true)}else{if(typeof XDomainRequest!="undefined"){d=new XDomainRequest();d.open(e,b)}else{d=null}}return d}function p(b){c&&c.abort();c=r("GET",h+encodeURI(b.innerText)+"&forditas="+config.forditas);c.onreadystatechange=function(){if(!t){return}if(c.readyState===4&&c.status===200){var u=JSON.parse(c.responseText),d="";if(u&&u.valasz&&u.valasz.versek&&u.valasz.versek.length){for(var e=0;e<u.valasz.versek.length;e++){d+=u.valasz.versek[e].szoveg+" "}o.innerText=d}else{o.innerText="A betöltés sikertelen :-("}}};c.send()}function q(w){var b=w.target||w.srcElement,e,x,d,v,u=b.getBoundingClientRect();p(b);t||(t=k.createElement("div"),o=k.createElement("div"),o.className+="szoveg",t.appendChild(o),m=k.createElement("div"),m.className+="igehely",t.appendChild(m));m.innerHTML='&nbsp;<a href="'+a+config.forditas+"/"+encodeURI(b.innerText.replace(/\s/g,""))+'"><b>'+b.innerText+"</b>&nbsp;(szentiras.hu)&nbsp;&raquo;</a>";o.innerText="Betöltés...";t.id="igemutato";t.addEventListener("mouseover",function(){if(g){clearTimeout(g);g=null}},false);t.addEventListener("mouseout",function(){g=setTimeout(function(){if(!j&&t){t.parentNode.removeChild(t);t=null}},config.tipHide)});e=u.top+(i.scrollTop||n.scrollTop);x=u.left+(i.scrollLeft||n.scrollLeft);d=b.offsetHeight;v=n.clientWidth||window.innerWidth;t.style.top=((u.top>config.tipH+config.tipD)?(e-config.tipH-config.tipD):(e+d+config.tipD))+"px";t.style.left=(((x+config.tipW)>v)?(v-config.tipW-config.tipD):x)+"px";t.style.width=config.tipW+"px";t.style.height=config.tipH+"px";o.style.height=(config.tipH-30)+"px";n.appendChild(t)}return{config:config,keres:s}})();